"use strict";(self.webpackChunkmarycona_meow_portal=self.webpackChunkmarycona_meow_portal||[]).push([[533],{2096:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var r=a(3216),n=a(899),t=a(3892),l=a(5043),o=a(3198),i=a(3884),d=a(579);const c=e=>{let{path:s}=e;const{errors:a,touched:r}=(0,t.j7)(),n=(0,i.G)((e=>e.user.user)),c="h-9 mt-1 px-2 text-xl rounded-md border-collapse\n                bg-slate-200 dark:bg-slate-950\n                text-slate-950 dark:text-slate-50\n                outline-none appearance-none !important\n                focus-visible:border border-amber-500 dark:border-amber-600",m=e=>(0,d.jsxs)(l.Fragment,{children:[(0,d.jsx)("label",{htmlFor:e.id,className:"mt-3 text-lg font-bold text-amber-500 dark:text-amber-600",children:e.name}),(0,d.jsx)(t.D0,{id:e.id,name:e.id,type:e.id.toLowerCase().includes("password")?"password":"text",className:n?`${c} opacity-50 cursor-not-allowed`:c}),(null===a||void 0===a?void 0:a[e.id])&&r[e.id]&&(0,d.jsx)("div",{className:"text-sm text-red-500",children:a[e.id]})]},e.id);return(0,d.jsx)(d.Fragment,{children:o._R.map((e=>"/login"===s?e.isLogIn&&m(e):m(e)))})},m=/^[0-9A-Za-z]+$/,x={login:n.Yj().required("\u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e").min(5,"\u043b\u043e\u0433\u0438\u043d \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5-\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(15,"\u043b\u043e\u0433\u0438\u043d \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 15-\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(m,"\u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b"),password:n.Yj().required("\u043f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d").min(8,"\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f - 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(m,"\u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b")},u={...x,name:n.Yj().required("\u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0442\u0435\u0441\u044c").min(3,"\u0438\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 3-\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(25,"\u0438\u043c\u044f \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 25-\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),repeatPassword:n.Yj().oneOf([n.KR("password")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")},p=e=>{let s,{type:a,func:r,size:n,name:t,className:l}=e;switch(n){case"sm":s="h-6 w-10";break;case"md":s="h-10 min-w-36 max-w-max px-2";break;case"lg":s="h-12 w-52"}const o=r?()=>r():void 0;return(0,d.jsx)("button",{type:a,className:l?`${l} ${s}`:s,onClick:o,children:(0,d.jsx)("span",{className:"uppercase",children:t})})};var h=a(6532),b=a(1811);const g=e=>{let{setIsModal:s,info:a}=e;const n=(0,r.Zp)();let t;const l="text-center",o="underline cursor-pointer\n                        text-amber-600 dark:text-amber-700\n                        hover:text-amber-500 hover:dark:text-amber-400";switch(a){case"noUserExist":t=(0,d.jsxs)("p",{className:l,children:["T\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d,"," ",(0,d.jsx)("span",{onClick:()=>{s(!1),n("/signup")},className:o,children:"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u0441\u044f?"})]});break;case"wrongPassword":t=(0,d.jsx)("p",{className:l,children:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 :-("});break;case"userAlreadyExists":t=(0,d.jsxs)("p",{className:l,children:["\u042d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435"," ",(0,d.jsx)("span",{onClick:()=>{s(!1),n("/login")},className:o,children:"\u0432\u043e\u0439\u0442\u0438."})]})}return(0,d.jsx)(b.A,{children:(0,d.jsxs)("div",{className:"flex flex-col w-96 h-44 justify-between text-xl",children:[t,(0,d.jsx)(p,{type:"button",size:"md",name:"\u041e\u043a!",func:()=>s(!1),className:"text-center self-center \n                bg-amber-600 dark:bg-amber-700\n                text-lg rounded-sm font-bold"})]}),onClose:()=>s(!1)})},w=(0,l.forwardRef)(((e,s)=>{let{path:a}=e;const o=(0,i.j)(),m=(0,i.G)((e=>e.user.users)),b=(0,i.G)((e=>e.user.user)),w=(0,r.Zp)(),[j,f]=(0,l.useState)(!1),[k,v]=(0,l.useState)(null),N="/login"===a?{login:"",password:""}:{login:"",password:"",name:"",repeatPassword:""},y=n.Ik().shape("/login"===a?x:u);return(0,d.jsx)(t.l1,{innerRef:s,initialValues:N,validationSchema:y,onSubmit:(e,s)=>{if("/signup"===a){if(m.some((s=>s.login===e.login)))return f(!0),void v("userAlreadyExists");{const a={name:e.name,login:e.login,password:e.password};o((0,h.yP)(a)),o((0,h.nu)(a)),s.resetForm(),w("/")}}if("/login"===a){const a=m.find((s=>s.login===e.login));if(!a)return f(!0),void v("noUserExist");a.password===e.password?(o((0,h.yP)(a)),s.resetForm(),w("/")):(f(!0),v("wrongPassword"))}},children:()=>(0,d.jsxs)(t.lV,{className:"w-1/3 mx-auto mt-5",children:[(0,d.jsxs)("fieldset",{disabled:!!b,children:[(0,d.jsx)("div",{className:"flex flex-col gap-y-1",children:(0,d.jsx)(c,{path:a})}),(0,d.jsx)("div",{className:"flex justify-center mt-6",children:(0,d.jsx)(p,{type:"submit",size:"md",className:`rounded-md text-xl\n                  bg-lime-400 dark:bg-lime-600\n                  ${b?"opacity-50 cursor-not-allowed":"hover:bg-lime-500 hover:dark:bg-lime-500"}\n                  `,name:"/login"===a?"\u0432\u043e\u0439\u0442\u0438":"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),j&&(0,d.jsx)(g,{setIsModal:f,info:k})]})})})),j=a.p+"static/media/meowing.c26c15c6724d61f0c670.gif";var f=a(3132);const k=()=>{const{isShowCat:e}=(0,l.useContext)(f.j);return(0,d.jsx)(d.Fragment,{children:e?(0,d.jsx)("aside",{className:"absolute right-0 bottom-0\n          w-[240px] h-[161px]\n          dark:opacity-65\n          ",children:(0,d.jsx)("img",{src:j,alt:"meow meow meow"})}):null})},v=l.memo(k),N=()=>{const{pathname:e}=(0,r.zy)(),s=(0,l.useRef)(null);return(0,d.jsxs)("section",{className:"h-full relative",children:[(0,d.jsx)(w,{path:e,ref:s}),(0,d.jsx)(v,{})]})}}}]);
//# sourceMappingURL=533.cc09fc77.chunk.js.map