{"version":3,"file":"static/js/744.4ed8e452.chunk.js","mappings":"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","sources":["pages/details/components/IsFavorite.tsx","pages/details/components/About.tsx","pages/details/index.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TIsFavorite } from '../type';\r\nimport { useAppSelector } from 'utils/hooks/useRedux';\r\nimport Like from 'components/like';\r\n\r\nconst IsFavorite: React.FC<TIsFavorite> = ({ movieInfo }) => {\r\n  const user = useAppSelector((state) => state.user.user?.login);\r\n  const movies = useAppSelector((state) =>\r\n    user ? state.favorite.movies[user] : null\r\n  );\r\n  const isFavorite = movies?.find((i) => i.id === movieInfo.id);\r\n  return (\r\n    <>\r\n      <div className=\"absolute top-5 flex justify-center gap-4 h-8\">\r\n        <div\r\n          className={`w-8 h-8 cursor-pointer flex ${\r\n            isFavorite ? '' : 'opacity-65 hover:opacity-100'\r\n          }`}\r\n        >\r\n          <Like\r\n            movieInfo={movieInfo}\r\n          />\r\n        </div>\r\n        {isFavorite ? (\r\n          <h6\r\n            className={`text-nowrap text-lg font-medium border rounded px-2\r\n          text-[#C40C0E] border-[#C40C0E]`}\r\n          >\r\n            в избранном\r\n          </h6>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IsFavorite;\r\n","import { useGetMovieByIdQuery } from 'api/movie';\r\nimport LabelRating from 'components/labelRating';\r\nimport PosterPlug from 'components/posterPlug';\r\nimport React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport IsFavorite from './IsFavorite';\r\nimport Loader from 'components/loader';\r\n\r\nconst About: React.FC = () => {\r\n  const { id = '' } = useParams();\r\n\r\n  const { data, isLoading, isError } = useGetMovieByIdQuery(id, {\r\n    skip: !id,\r\n  });\r\n  // console.log(data);\r\n\r\n  const name = data?.name ?? data?.alternativeName ?? 'Название не указано';\r\n  const poster = data?.poster?.url\r\n    ? {\r\n        backgroundImage: `url(${data.poster.url})`,\r\n        backgroundSize: 'cover',\r\n      }\r\n    : {};\r\n  const rating = data?.rating?.imdb || '0';\r\n  const description = data?.description || '';\r\n  const shortDescription = data?.shortDescription || '';\r\n  const persons = data?.persons\r\n    ? data.persons.length <= 5\r\n      ? data?.persons\r\n      : data?.persons.slice(0, 5)\r\n    : null;\r\n\r\n  //TODO добавить еще инфо о фильме\r\n  return (\r\n    <>\r\n      {!isError&&!isLoading && !!data && (\r\n        <div\r\n          className={`grid grid-rows-1 grid-cols-[320px_1fr]\r\n                      xl:grid-cols-[320px_1fr_1fr] gap-3 h-[75vh] overflow-y-auto`}\r\n        >\r\n          <div className=\"flex flex-col h-full\">\r\n            <h2 className=\"my-3 text-2xl font-bold text-amber-600 dark:text-amber-500\">\r\n              {name}\r\n            </h2>\r\n            {data?.countries &&\r\n              data.countries.map((c: { name: string }, i: number) => (\r\n                <span\r\n                  key={c.name}\r\n                  className=\"text-lg\"\r\n                >\r\n                  {c.name}\r\n                  {', '}\r\n                  {data?.year ?? 'год не указан'}\r\n                </span>\r\n              ))}\r\n            <div\r\n              style={poster}\r\n              className={`w-60 h-80 xl:w-80 xl:h-[30rem]\r\n                my-3 relative rounded bg-gradient-to-b\r\n              from-amber-500 to-lime-500 dark:from-amber-600 dark:to-lime-600`}\r\n            >\r\n              {!poster && <PosterPlug />}\r\n              <div className=\"absolute right-1 top-2/3\">\r\n                <LabelRating rating={rating} />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-sm text-justify\">{shortDescription}</p>\r\n            {!!persons && !!persons.length && (\r\n              <div className=\"mt-2 text-xs\">\r\n                <b>В ролях: </b>\r\n                {persons.map(\r\n                  (\r\n                    p: { name: string; enName: string; id: number },\r\n                    i: number\r\n                  ) => (\r\n                    <span key={p.id}>\r\n                      {p.name ?? p.enName}\r\n                      {i < persons.length - 1 ? ', ' : '.'}\r\n                    </span>\r\n                  )\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"relative\">\r\n            <IsFavorite\r\n              movieInfo={{\r\n                id: data.id,\r\n                name:\r\n                  data.name || data.alternativeName || 'название отсутствует',\r\n                posterUrl: data.poster?.url || null,\r\n                rating: data?.rating?.imdb ?? 0,\r\n                year: data?.year,\r\n                countries: data?.countries,\r\n              }}\r\n            />\r\n            <p className=\"mt-24 text-justify\">{description}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {isLoading && (\r\n        <div\r\n          style={{ height: `calc(100vh - 350px)` }}\r\n          className=\"flex items-center justify-center\"\r\n        >\r\n          <Loader />\r\n        </div>\r\n      )}\r\n       {isError && (\r\n        <div\r\n          style={{ height: `calc(100vh - 350px)` }}\r\n          className=\"flex items-center justify-center\"\r\n        >\r\n          <p className='text-2xl text-amber-600'>Ошибка получения данных по фильму с id {id}</p>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import { useParams } from 'react-router-dom';\r\nimport About from './components/About';\r\nimport NotFoundPlug from 'components/notFoundPlug';\r\n\r\nconst PageDetails: React.FC = () => {\r\n  const { id = '' } = useParams();\r\n  const isIdAllNumbers = id.match(/^\\d+$/);\r\n\r\n  return (\r\n    <section className=\"flex flex-col w-5/6 mx-auto row-start-2\">\r\n      {isIdAllNumbers ? (\r\n        <About />\r\n      ) : (\r\n        <div className=\"flex flex-col w-full h-full items-center justify-center\">\r\n          <NotFoundPlug notificationMsg={`фильм с id ${id} не существует`} />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default PageDetails;\r\n"],"names":["_ref","movieInfo","user","useAppSelector","state","_state$user$user","login","movies","favorite","isFavorite","find","i","id","_jsx","_Fragment","children","_jsxs","className","Like","About","_data$name","_data$poster","_data$rating","_data$poster2","_data$rating$imdb","_data$rating2","useParams","data","isLoading","isError","useGetMovieByIdQuery","skip","name","alternativeName","poster","url","backgroundImage","backgroundSize","rating","imdb","description","shortDescription","persons","length","slice","countries","map","c","_data$year","year","style","PosterPlug","LabelRating","p","_p$name","enName","IsFavorite","posterUrl","height","Loader","PageDetails","isIdAllNumbers","match","NotFoundPlug","notificationMsg"],"sourceRoot":""}